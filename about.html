<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About Me - Makeup by NY</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    /* Additional styles specific to the about page */
    .about-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    .about-section {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      padding: 30px;
      margin-bottom: 30px;
      opacity: 1;
      transform: translateY(0);
    }

    .about-section h2 {
      color: #333;
      font-size: 1.8em;
      margin-bottom: 20px;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
    }

    .about-section p {
      color: #444;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .about-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .about-card {
      background: #f9f9f9;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      opacity: 1;
      transform: translateY(0);
    }

    .about-card h3 {
      color: #333;
      margin-bottom: 15px;
    }

    .about-card p {
      color: #666;
      font-size: 0.95em;
    }

    .about-image {
      width: 100%;
      max-width: 400px;
      height: auto;
      border-radius: 8px;
      margin: 20px auto;
      display: block;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      opacity: 1;
      transform: scale(1);
    }

    @media (max-width: 768px) {
      .about-content {
        padding: 20px 15px;
      }
      
      .about-section {
        padding: 20px;
      }
    }

    /* Add these styles to your existing styles */
    .about-nav {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      padding: 10px;
      margin-bottom: 20px;
      width: 100%;
    }

    .about-nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      width: 100%;
    }

    .about-nav li {
      margin: 0;
    }

    .about-nav a {
      color: #333;
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 20px;
      transition: all 0.3s ease;
      font-size: 0.9em;
      display: inline-block;
    }

    .about-nav a:hover {
      background: #f5f5f5;
      color: #666;
    }

    .about-nav a.active {
      background: #333;
      color: white;
    }

    @media (max-width: 768px) {
      .about-content {
        padding: 20px 15px;
      }
      
      .about-section {
        padding: 20px;
      }
       
      .about-nav {
        width: 100%;
      }

      .about-nav ul {
        flex-direction: column;
        gap: 10px;
      }
      
      .about-nav a {
        display: block;
        text-align: center;
        width: 100%;
      }
    }

    /* Admin Dropdown Menu Styles */
    .admin-dropdown {
      position: relative;
      display: inline-block;
    }

    .admin-dropdown-btn {
      background: none;
      border: none;
      color: #333;
      font-size: 1em;
      padding: 10px;
      cursor: pointer;
      font-family: inherit;
      text-decoration: none;
      transition: color 0.2s;
      align-items: center;
      position: relative;
      bottom: -8px; /* Lower the Admin Dashboard text to match other items */
      z-index: 1000; /* Ensure button appears in front */
    }

    .admin-dropdown-btn .dropdown-icon {
      display: inline-block;
      margin-left: 5px;
      transition: transform 0.3s ease;
    }

    .admin-dropdown-btn.active .dropdown-icon {
      transform: rotate(180deg);
    }

    .admin-dropdown-btn:hover, 
    .admin-dropdown-btn.active {
      color: #a07;
    }

    /* Desktop position for admin dashboard text */
    @media (min-width: 768px) {
      .admin-dropdown-btn {
        bottom: 0px; /* Move text higher up for desktop view */
      }
    }

    .admin-dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background-color: white;
      min-width: 180px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      z-index: 1;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 5px;
      border: 1px solid #eee;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.3s, transform 0.3s;
    }

    .admin-dropdown-content a {
      color: #333;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align: left;
      transition: background-color 0.2s, color 0.2s;
      border-bottom: 1px solid #f5f5f5;
    }

    .admin-dropdown-content a:last-child {
      border-bottom: none;
    }

    .admin-dropdown-content a:hover {
      background-color: #f9f9f9;
      color: #a07;
    }

    /* This class is toggled via JavaScript */
    .show-dropdown {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    /* Responsive adjustments for admin dropdown */
    @media (max-width: 768px) {
      .admin-dropdown-content {
        position: absolute;
        right: 0;
        left: auto;
        width: 200px;
      }

      header nav {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

      .admin-dropdown {
        position: relative;
      }
    }

    /* For very small screens */
    @media (max-width: 480px) {
      .admin-dropdown-content {
        right: -50px; /* Adjust position to be more centered on small screens */
      }

      .admin-dropdown-btn {
        padding: 10px 5px;
      }
      
      /* Hide about-me sidebar completely on mobile */
      .about-me {
        display: none !important;
      }
      
      /* Make posts section take full width */
      .posts {
        width: 100%;
        max-width: 100%;
      }
    }

    /* Settings gear icon styles */
    .settings-icon {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: rgba(255, 255, 255, 0.8);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      z-index: 100;
      transition: transform 0.3s ease;
      cursor: pointer;
    }

    .settings-icon:hover {
      transform: rotate(30deg);
    }

    .settings-icon svg {
      width: 22px;
      height: 22px;
      fill: #333;
    }

    /* Contact dropdown styles */
    .contact-dropdown-btn:hover, 
    .contact-dropdown-btn.active {
      color: #a07 !important;
    }

    .contact-dropdown-btn .dropdown-icon {
      transition: transform 0.3s ease;
    }

    .contact-dropdown-btn.active .dropdown-icon {
      transform: rotate(180deg);
    }

    /* User dropdown styles (same as admin dropdown) */
    .user-dropdown {
      position: relative;
      display: inline-block;
    }

    .user-dropdown-btn {
      background: none;
      border: none;
      color: #333;
      font-size: 1em;
      padding: 10px;
      cursor: pointer;
      font-family: inherit;
      text-decoration: none;
      display: none;
      transition: color 0.2s;
      display: flex;
      align-items: center;
    }

    .user-dropdown-btn .dropdown-icon {
      display: inline-block;
      margin-left: 5px;
      transition: transform 0.3s ease;
    }

    .user-dropdown-btn.active .dropdown-icon {
      transform: rotate(180deg);
    }

    .user-dropdown-btn:hover, 
    .user-dropdown-btn.active {
      color: #a07;
    }

    /* White box mimicking the dropdown */
    .black-box {
      position: fixed;
      background-color: white;
      z-index: 999;
      display: none; /* Hidden by default */
      width: auto;
      height: auto;
      min-width: 180px; /* Match dropdown width */
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      border-radius: 4px;
      overflow: hidden;
      border: 1px solid #eee;
    }
    
    /* Menu items in the white box */
    .black-box a {
      color: #333;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align: left;
      transition: background-color 0.2s, color 0.2s;
      border-bottom: 1px solid #f5f5f5;
    }
    
    .black-box a:last-child {
      border-bottom: none;
    }
    
    .black-box a:hover {
      background-color: #f9f9f9;
      color: #a07;
    }

    /* Edit mode button styles */
    #edit-mode-toggle {
      position: fixed;
      top: 70px;
      right: 20px;
      width: 40px;
      height: 40px;
      background-color: #fff;
      border-radius: 50%;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: none; /* Hidden by default, shown only for admins */
      justify-content: center;
      align-items: center;
      cursor: pointer;
      z-index: 9999;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }

    #edit-mode-toggle:hover {
      transform: scale(1.1);
    }

    #edit-mode-toggle.active {
      background-color: #ff69b4;
      color: white;
    }

    /* Save Status Indicator */
    #save-status {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: bold;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.3s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    #save-status.show {
      opacity: 1;
    }

    #save-status.success {
      background-color: #4CAF50;
      color: white;
    }

    #save-status.error {
      background-color: #F44336;
      color: white;
    }

    #save-status.saving {
      background-color: #FFC107;
      color: black;
    }

    /* Editable content styles */
    .editable {
      transition: outline 0.3s ease, background-color 0.3s ease;
    }

    .editable.edit-mode {
      outline: 2px solid #ff69b4;
      outline-offset: 2px;
      background-color: rgba(255, 105, 180, 0.05);
    }

    /* Content visibility control */
    .content-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #f9f9f9;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .content-loader.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loader-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid #a07;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Hide editable content until loaded */
    .editable-container {
      visibility: hidden;
      opacity: 0;
      transition: visibility 0.3s ease, opacity 0.3s ease;
    }

    .editable-container.loaded {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- Loading spinner overlay -->
  <div id="contentLoader" class="content-loader">
    <div class="loader-spinner"></div>
  </div>
  
  <!-- Edit Mode Button (Admin only) -->
  <div id="edit-mode-toggle" style="display:none;">
    <i class="fas fa-pencil-alt"></i>
  </div>

  <!-- Save Status Indicator -->
  <div id="save-status">Saving changes...</div>

  <!-- Header Section -->
  <header>
    <a href="index.html">
      <img src="nbvlogo.png" alt="Ny's Beauty Vault Logo" style="width: 100%; max-width: 610px; height: auto; object-fit: contain;">
    </a>
    <nav id="mainNav">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <!-- Convert Contact to a dropdown -->
      <div class="contact-dropdown" style="display: inline-block; position: relative;">
        <a id="contactDropdownBtn" class="contact-dropdown-btn" href="#" style="color: #333; text-decoration: none; display: flex; align-items: center;">
          Contact 
          <span class="dropdown-icon" style="display: inline-block; margin-left: 5px;">▼</span>
        </a>
      </div>
      <!-- Admin dropdown menu (initially hidden) -->
      <div class="admin-dropdown">
        <a id="adminDropdownBtn" class="admin-dropdown-btn" href="#" style="display:none;">
          Admin Dashboard 
          <span class="dropdown-icon">▼</span>
        </a>
      </div>
      <!-- User account link (initially hidden) -->
      <a id="userAccountLink" href="settings.html" style="display:none;">My Account</a>
      <!-- Public links -->
      <a id="login-link" href="login.html">Login</a>
      <button id="logout-btn" style="display:none;">Logout</button>
    </nav>
  </header>

  <!-- Settings Icon -->
  <a href="settings.html" class="settings-icon" id="settingsIcon" style="display:none;" title="Account Settings">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
    </svg>
  </a>

  <!-- Main Content Area -->
  <div class="content">
    <!-- White box dropdown replacement -->
    <div class="black-box">
      <a href="admin-dashboard.html">Messages</a>
      <a href="editor.html">Create Post</a>
      <a href="edit-post.html">Edit Posts</a>
      <a href="manage-users.html">User Management</a>
    </div>
    
    <!-- Contact dropdown black box -->
    <div class="contact-black-box" style="position: fixed; background-color: white; z-index: 999; display: none; width: auto; height: auto; min-width: 50px !important; box-shadow: 0 8px 16px rgba(0,0,0,0.1); border-radius: 4px; overflow: hidden; border: 1px solid #eee;">
      <a href="contact.html" style="color: #333; padding: 12px 16px; text-decoration: none; display: block; text-align: left; transition: background-color 0.2s, color 0.2s; border-bottom: 1px solid #f5f5f5;">Contact</a>
      <a href="https://glammedbyglizz.youcanbook.me/" target="_blank" style="color: #333; padding: 12px 16px; text-decoration: none; display: block; text-align: left; transition: background-color 0.2s, color 0.2s;">Booking</a>
    </div>
    
    <!-- Main About Content -->
    <main class="posts">
      <!-- About Page Navigation -->
      <div class="about-nav">
        <ul>
          <li><a href="#welcome" class="active">Welcome</a></li>
          <li><a href="disclaimer.html">Disclaimer</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="privacy-policy.html">Privacy Policy</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>

      <div class="about-content">
        <!-- About Me Section -->
        <section class="about-section" id="welcome">
          <h2>About Me</h2>
          <img src="nyredhair.jpg" alt="Ny Red Hair" class="about-image">
          <div class="editable-container">
            <p class="editable">
            Hello and welcome to my Makeup and Beauty Blog! I'm Ny, an aspiring makeup artist who's absolutely head-over-heels for all things beauty. My journey in the world of makeup began with a simple curiosity and has evolved into a passionate pursuit of helping others discover their natural beauty.
          </p>
            <p class="editable">
            Through this blog, I share my experiences, tips, and tricks that I've learned along the way. Whether you're a makeup novice or a seasoned pro, there's something here for everyone. I believe that makeup should be fun, accessible, and most importantly, a way to express yourself.
          </p>
            <p class="editable">
            When I'm not experimenting with new products or creating tutorials, you can find me exploring the latest beauty trends, attending makeup workshops, or sharing my favorite finds with my growing community of beauty enthusiasts.
          </p>
          </div>
        </section>

        <!-- My Mission Section -->
        <section class="about-section">
          <h2>My Mission</h2>
          <div class="editable-container">
            <p class="editable">
            My mission is to empower everyone to feel confident and beautiful in their own skin. I believe that makeup is not about hiding who you are, but rather enhancing your natural beauty and expressing your unique style.
          </p>
          </div>
          <div class="about-grid">
            <div class="about-card">
              <h3>Education</h3>
              <div class="editable-container">
                <p class="editable">I'm constantly learning and staying up-to-date with the latest beauty trends and techniques through professional courses and workshops. From basic application to advanced techniques, I'm always expanding my knowledge to share with you.</p>
              </div>
            </div>
            <div class="about-card">
              <h3>Experience</h3>
              <div class="editable-container">
                <p class="editable">With years of personal experience and countless hours of practice, I've developed a deep understanding of makeup application and product selection. I've worked with various skin types and tones, helping people achieve their desired looks.</p>
              </div>
            </div>
            <div class="about-card">
              <h3>Community</h3>
              <div class="editable-container">
                <p class="editable">I'm passionate about building a supportive community where everyone can share their beauty journey and learn from each other. Join our growing community of beauty enthusiasts and share your own tips and experiences!</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Beauty Tips Section -->
        <section class="about-section">
          <h2>Quick Beauty Tips</h2>
          <div class="about-grid">
            <div class="about-card">
              <h3>Skincare First</h3>
              <div class="editable-container">
                <p class="editable">Always start with a clean, well-moisturized face. Good makeup starts with good skincare!</p>
              </div>
            </div>
            <div class="about-card">
              <h3>Tools Matter</h3>
              <div class="editable-container">
                <p class="editable">Invest in quality brushes and sponges. They make a world of difference in application.</p>
              </div>
            </div>
            <div class="about-card">
              <h3>Less is More</h3>
              <div class="editable-container">
                <p class="editable">Start with a light hand and build up gradually. It's easier to add than to remove!</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Contact Section -->
        <section class="about-section">
          <h2>Get in Touch</h2>
          <div class="editable-container">
            <p class="editable">
            I love connecting with my readers! Whether you have questions about specific products, want to share your own beauty tips, or just want to say hello, feel free to reach out.
          </p>
          </div>
          <div class="social-links">
            <div class="social-icons">
              <a href="https://www.instagram.com/_ryymone?igsh=N2M5azhzZ3h3ZzJl" class="social-icon instagram"><i class="fab fa-instagram"></i> Instagram</a>
              <a href="https://www.facebook.com/nyisha.rymone.1?mibextid=wwXIfr&rdid=AnupCw1sMQ1JiIU2&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F1AGiUj9TMu%2F%3Fmibextid%3DwwXIfr" class="social-icon facebook"><i class="fab fa-facebook-f"></i> Facebook</a>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- About Me Sidebar -->
    <aside class="about-me">
      <img src="nyredhair.jpg" alt="Ny Red Hair" class="profile-pic">

      <div class="editable-container">
        <p class="editable">
        Hello and welcome to my Makeup and Beauty Blog! I'm Ny, an aspiring makeup artist who's absolutely head-over-heels for all things beauty.
      </p>
        <p class="editable">
        Dive into honest product rundowns, foolproof tutorials, and the latest beauty buzz—like a monthly magazine come to life, but with my personal spin (and the occasional cameo from my family). Enjoy!
      </p>
      </div>

      <!-- Social Media Links -->
      <div class="social-links">
        <div class="editable-container">
          <h3 style="font-size: 1.1em; margin: 20px 0 10px;" class="editable">Follow Me</h3>
        </div>
        <div class="social-icons">
          <a href="https://www.instagram.com/_ryymone?igsh=N2M5azhzZ3h3ZzJl" class="social-icon instagram"><i class="fab fa-instagram"></i> Instagram</a>
          <a href="https://www.facebook.com/nyisha.rymone.1?mibextid=wwXIfr&rdid=AnupCw1sMQ1JiIU2&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F1AGiUj9TMu%2F%3Fmibextid%3DwwXIfr" class="social-icon facebook"><i class="fab fa-facebook-f"></i> Facebook</a>
        </div>
      </div>

      <!-- Search Bar -->
      <div class="search-container">
        <input type="text" placeholder="Search posts..." id="searchInput">
      </div>

      <!-- Recent Posts -->
      <div class="recent-posts">
        <div class="editable-container">
          <h3 style="font-size: 1.1em; margin: 20px 0 10px;" class="editable">Recent Posts</h3>
        </div>
        <div id="recentPostsList"></div>
      </div>
    </aside>
  </div>

  <!-- Footer Section -->
  <footer>
    <div class="editable-container">
      <p class="editable">&copy; 2025 Makeup by NY</p>
    </div>
  </footer>

  <!-- Load firebase.js first to initialize Firebase -->
  <script type="module" src="firebase.js"></script>

  <!-- Load about.js for page-specific functionality -->
  <script type="module" src="about.js"></script>

  <!-- Admin dropdown control script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const adminDropdownBtn = document.getElementById('adminDropdownBtn');
      const whiteBox = document.querySelector('.black-box');
      const contactDropdownBtn = document.getElementById('contactDropdownBtn');
      const contactBox = document.querySelector('.contact-black-box');
      
      // Function to position white box under Admin Dashboard
      function positionWhiteBox() {
        if (adminDropdownBtn && whiteBox) {
          const rect = adminDropdownBtn.getBoundingClientRect();
          whiteBox.style.top = (rect.bottom) + 'px';
          whiteBox.style.left = rect.left + 'px';
          whiteBox.style.width = (rect.width < 180 ? 180 : rect.width) + 'px'; // Minimum width of 180px
        }
      }
      
      // Function to position contact box under Contact button
      function positionContactBox() {
        if (contactDropdownBtn && contactBox) {
          const rect = contactDropdownBtn.getBoundingClientRect();
          contactBox.style.top = (rect.bottom) + 'px';
          contactBox.style.left = rect.left + 'px';
          contactBox.style.width = (rect.width < 50 ? 50 : rect.width) + 'px !important'; // Minimum width of 50px with !important
        }
      }
      
      // Position boxes initially
      positionWhiteBox();
      positionContactBox();
      
      // Reposition on window resize
      window.addEventListener('resize', function() {
        positionWhiteBox();
        positionContactBox();
      });
      
      // Toggle dropdown when Admin Dashboard is clicked
      if (adminDropdownBtn && whiteBox) {
        adminDropdownBtn.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          // Toggle white box display
          if (whiteBox.style.display === 'block') {
            whiteBox.style.display = 'none';
            this.classList.remove('active');
          } else {
            positionWhiteBox(); // Position before showing
            whiteBox.style.display = 'block';
            this.classList.add('active');
            
            // Hide contact dropdown if it's open
            if (contactBox) {
              contactBox.style.display = 'none';
              if (contactDropdownBtn) contactDropdownBtn.classList.remove('active');
            }
          }
        });
      }
      
      // Toggle contact dropdown when Contact is clicked
      if (contactDropdownBtn && contactBox) {
        contactDropdownBtn.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          // Toggle contact box display
          if (contactBox.style.display === 'block') {
            contactBox.style.display = 'none';
            this.classList.remove('active');
          } else {
            positionContactBox(); // Position before showing
            contactBox.style.display = 'block';
            this.classList.add('active');
            
            // Hide admin dropdown if it's open
            if (whiteBox) {
              whiteBox.style.display = 'none';
              if (adminDropdownBtn) adminDropdownBtn.classList.remove('active');
            }
          }
        });
      }
      
      // Hide dropdowns when clicking outside
      document.addEventListener('click', function(e) {
        // Close admin dropdown
        if (whiteBox && whiteBox.style.display === 'block' && 
            adminDropdownBtn && !adminDropdownBtn.contains(e.target) && 
            !whiteBox.contains(e.target)) {
          whiteBox.style.display = 'none';
          adminDropdownBtn.classList.remove('active');
        }
        
        // Close contact dropdown
        if (contactBox && contactBox.style.display === 'block' && 
            contactDropdownBtn && !contactDropdownBtn.contains(e.target) && 
            !contactBox.contains(e.target)) {
          contactBox.style.display = 'none';
          contactDropdownBtn.classList.remove('active');
        }
      });
      
      // Hide dropdowns when scrolling
      window.addEventListener('scroll', function() {
        // Close admin dropdown
        if (whiteBox && whiteBox.style.display === 'block') {
          whiteBox.style.display = 'none';
          if (adminDropdownBtn) adminDropdownBtn.classList.remove('active');
        }
        
        // Close contact dropdown
        if (contactBox && contactBox.style.display === 'block') {
          contactBox.style.display = 'none';
          if (contactDropdownBtn) contactDropdownBtn.classList.remove('active');
        }
      });
    });
  </script>

  <!-- Firebase Integration -->
  <script type="module">
    // Import Firebase modules
    import { auth, isAdminUser } from './firebase-config.js';
    import { onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js';

    // DOM elements
    const adminDropdownBtn = document.getElementById('adminDropdownBtn');
    const userAccountLink = document.getElementById('userAccountLink');
    const loginLink = document.getElementById('login-link');
    const logoutBtn = document.getElementById('logout-btn');
    const settingsIcon = document.getElementById('settingsIcon');

    // Check authentication state
    onAuthStateChanged(auth, async (user) => {
      // User is logged in
      if (user) {
        // Update UI elements
        if (loginLink) loginLink.style.display = 'none';
        if (logoutBtn) logoutBtn.style.display = 'inline';
        if (userAccountLink) userAccountLink.style.display = 'inline';
        if (settingsIcon) settingsIcon.style.display = 'flex';
        
        // Check if user is admin
        const isAdmin = await isAdminUser(user.uid);
        if (adminDropdownBtn) adminDropdownBtn.style.display = isAdmin ? 'inline' : 'none';
      } else {
        // User is logged out
        if (loginLink) loginLink.style.display = 'inline';
        if (logoutBtn) logoutBtn.style.display = 'none';
        if (userAccountLink) userAccountLink.style.display = 'none';
        
        // Hide settings icon
        if (settingsIcon) settingsIcon.style.display = 'none';
      }
    });

    // Handle logout
    if (logoutBtn) {
      logoutBtn.addEventListener('click', handleLogout);
    }
    
    function handleLogout() {
      signOut(auth).then(() => {
        console.log('User signed out');
        window.location.href = 'index.html';
      }).catch(error => {
        console.error('Error signing out:', error);
      });
    }
  </script>

  <!-- Edit Mode Script -->
  <script type="module">
    // Import Firebase modules
    import { auth, isAdminUser, db } from './firebase-config.js';
    import { onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js';
    import { doc, getDoc, setDoc, updateDoc } from 'https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js';

    document.addEventListener('DOMContentLoaded', function() {
      const editButton = document.getElementById('edit-mode-toggle');
      const editableElements = document.querySelectorAll('.editable');
      let editModeActive = false;
      
      // Store original content for each editable element
      const originalContent = {};
      editableElements.forEach((element, index) => {
        originalContent[index] = element.innerHTML;
      });

      // Show edit button for admin users only
      onAuthStateChanged(auth, async (user) => {
        if (user) {
          const isAdmin = await isAdminUser(user.uid);
          if (isAdmin && editButton) {
            editButton.style.display = 'flex';
          }
        }
      });

      // Toggle edit mode when pencil icon is clicked
      if (editButton) {
        editButton.addEventListener('click', function() {
          editModeActive = !editModeActive;
          
          // Toggle button appearance
          if (editModeActive) {
            // Enter edit mode
            editButton.classList.add('active');
            editButton.innerHTML = '<i class="fas fa-save"></i>';
            
            // Toggle contenteditable and visual style for all editable elements
            editableElements.forEach(element => {
              element.setAttribute('contenteditable', 'true');
              element.classList.add('edit-mode');
            });
          } else {
            // Exit edit mode and save changes
            editButton.classList.remove('active');
            editButton.innerHTML = '<i class="fas fa-pencil-alt"></i>';
            
            // Create an object to store the changes
            const updatedContent = {};
            let hasChanges = false;
            
            // Check which elements have been changed
            editableElements.forEach((element, index) => {
              const currentContent = element.innerHTML;
              if (currentContent !== originalContent[index]) {
                // Remove edit-mode class before getting path, to ensure
                // we can find the element again when page reloads
                element.classList.remove('edit-mode');
                
                // Store element information for identification
                const path = getElementPath(element);
                updatedContent[path] = {
                  content: currentContent,
                  elementType: element.tagName.toLowerCase()
                };
                hasChanges = true;
              }
              
              // Remove contenteditable and visual style
              element.removeAttribute('contenteditable');
              element.classList.remove('edit-mode');
            });
            
            // If changes were made, save them to Firebase
            if (hasChanges) {
              // Show saving indicator
              showSaveStatus('saving', 'Saving changes...');
              
              // Save to both Firebase and localStorage for redundancy
              saveContentToFirebase(updatedContent)
                .then(() => {
                  // Also save to localStorage as backup
                  try {
                    // Save to localStorage with timestamp
                    const localStorageData = {
                      content: updatedContent,
                      timestamp: new Date().toISOString(),
                      pageId: 'about_page_content'
                    };
                    localStorage.setItem('about_page_content', JSON.stringify(localStorageData));
                    console.log("✅ Also saved content to localStorage as backup");
                  } catch (localStorageError) {
                    console.warn("Could not save to localStorage:", localStorageError);
                  }
                  
                  showSaveStatus('success', 'Changes saved successfully!');
                  
                  // Update the original content with new values
                  editableElements.forEach((element, index) => {
                    originalContent[index] = element.innerHTML;
                  });
                })
                .catch(error => {
                  console.error('Error saving to Firebase:', error);
                  
                  // Try saving to localStorage as fallback
                  try {
                    const localStorageData = {
                      content: updatedContent,
                      timestamp: new Date().toISOString(),
                      pageId: 'about_page_content'
                    };
                    localStorage.setItem('about_page_content', JSON.stringify(localStorageData));
                    
                    showSaveStatus('success', 'Changes saved locally (offline mode)');
                    
                    // Update the original content with new values
                    editableElements.forEach((element, index) => {
                      originalContent[index] = element.innerHTML;
                    });
                  } catch (localStorageError) {
                    showSaveStatus('error', 'Failed to save changes');
                    console.error('Error saving to localStorage:', localStorageError);
                  }
                });
            }
          }
        });
      }
      
      // Function to get a unique path for an element
      function getElementPath(element) {
        const tagName = element.tagName.toLowerCase();
        
        // Get a cleaned version of the class list without edit-mode
        const classList = Array.from(element.classList)
          .filter(className => className !== 'edit-mode'); // Remove edit-mode class from path
        const classNames = classList.join('.');
        
        // Get parent information with more detail
        const parentElement = element.parentElement;
        const parentTagName = parentElement ? parentElement.tagName.toLowerCase() : '';
        
        // Get more specific parent class information
        let parentClassInfo = '';
        if (parentElement && parentElement.classList.length > 0) {
          parentClassInfo = '.' + Array.from(parentElement.classList).join('.');
        }
        
        // Get position index among siblings of same type
        let positionIndex = 0;
        if (parentElement) {
          const siblings = Array.from(parentElement.children).filter(el => el.tagName === element.tagName);
          positionIndex = siblings.indexOf(element) + 1;
        }
        
        // Include detailed position info in the path
        const positionInfo = parentElement ? `[${positionIndex}]` : '';
        
        // Include some content as a fingerprint (first 15 chars)
        const contentFingerprint = element.textContent.trim().substring(0, 15).replace(/\s+/g, '-');
        
        // Create a highly specific identifier for this element
        return `${parentTagName}${parentClassInfo}>${tagName}${positionInfo}.${classNames}:${contentFingerprint}`;
      }
      
      // Function to save content to Firebase
      async function saveContentToFirebase(updatedContent) {
        console.log("Attempting to save content to Firebase:", updatedContent);
        
        try {
          // Use page-specific document ID to prevent cross-page content sharing
          const pageDocId = "about_page_content";
          
          // Create/update content document in Firestore
          const contentRef = doc(db, "site_content", pageDocId);
          
          // Check if document exists
          const docSnap = await getDoc(contentRef);
          
          if (docSnap.exists()) {
            // Get current content
            const currentContent = docSnap.data().content || {};
            
            // Merge current content with updated content
            const mergedContent = { ...currentContent, ...updatedContent };
            console.log("Updating existing document with merged content:", mergedContent);
            
            // Update existing document
            await updateDoc(contentRef, {
              content: mergedContent,
              lastUpdated: new Date()
            });
            
            console.log("✅ Successfully updated document in Firebase");
            
            // Verify the update was successful by reading it back
            const verifySnap = await getDoc(contentRef);
            if (verifySnap.exists()) {
              console.log("✅ Verification successful - document contains:", verifySnap.data());
              return true;
            } else {
              console.error("❌ Verification failed - document not found after update");
              throw new Error("Document verification failed after update");
            }
          } else {
            console.log("Creating new document with content:", updatedContent);
            // Create new document
            await setDoc(contentRef, {
              content: updatedContent,
              lastUpdated: new Date()
            });
            
            console.log("✅ Successfully created new document in Firebase");
            
            // Verify the creation was successful
            const verifySnap = await getDoc(contentRef);
            if (verifySnap.exists()) {
              console.log("✅ Verification successful - new document contains:", verifySnap.data());
              return true;
            } else {
              console.error("❌ Verification failed - new document not found after creation");
              throw new Error("Document verification failed after creation");
            }
          }
        } catch (error) {
          console.error("❌ Error saving content to Firebase:", error);
          // Check for specific Firebase errors
          if (error.code) {
            console.error(`Firebase error code: ${error.code}`);
            console.error(`Firebase error message: ${error.message}`);
          }
          throw error;
        }
      }
      
      // Function to show save status
      function showSaveStatus(type, message) {
        const statusElement = document.getElementById('save-status');
        if (!statusElement) return;
        
        // Clear existing classes
        statusElement.className = '';
        
        // Add new classes
        statusElement.classList.add('show');
        statusElement.classList.add(type);
        
        // Set message
        statusElement.textContent = message;
        
        // Hide after a delay (except if it's "saving")
        if (type !== 'saving') {
          setTimeout(() => {
            statusElement.classList.remove('show');
          }, 3000);
        }
      }
    });
  </script>

  <!-- Load editable content script -->
  <script type="module">
    // Import Firebase modules immediately
    import { doc, getDoc, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";
    import { db } from "./firebase-config.js";
    
    // Load saved content when the page loads
    document.addEventListener('DOMContentLoaded', async function() {
      // Function to specifically handle footer copyright content
      function handleFooterCopyright(savedContent) {
        let count = 0;
        
        // Check for footer copyright elements in the saved content
        for (const path in savedContent) {
          if (path.includes('footer>p') && path.includes('©')) {
            console.log('Found footer copyright element path, using direct approach');
            const footerParagraphs = document.querySelectorAll('footer p');
            
            if (footerParagraphs.length > 0) {
              // First try to find a paragraph with the copyright symbol
              let copyrightP = null;
              
              for (let i = 0; i < footerParagraphs.length; i++) {
                if (footerParagraphs[i].textContent.includes('©')) {
                  copyrightP = footerParagraphs[i];
                  break;
                }
              }
              
              // If found, update it
              if (copyrightP) {
                console.log('Found footer copyright element, updating');
                copyrightP.innerHTML = savedContent[path].content;
                count++;
              } else {
                // Otherwise update the first paragraph in the footer
                console.log('No copyright found in footer, updating first paragraph');
                footerParagraphs[0].innerHTML = savedContent[path].content;
                count++;
              }
            }
          }
        }
        
        return count;
      }
      
      try {
        // Use page-specific document ID to prevent cross-page content sharing
        const pageDocId = "about_page_content";
        
        // Try to load from Firebase first
        console.log("Loading saved content for about page...");
        let savedContent = null;
        let contentSource = 'firebase';
        
        try {
          // Test Firebase connection first
          console.log("Testing Firebase connection...");
          // Try to access a collection to verify connection
          const testCol = collection(db, "site_content");
          const testSnapshot = await getDocs(testCol);
          console.log(`✅ Firebase connection successful! Found ${testSnapshot.size} documents in collection.`);
          
          // Get the content document from Firestore
          const contentRef = doc(db, "site_content", pageDocId);
          const docSnap = await getDoc(contentRef);
          
          if (docSnap.exists() && docSnap.data().content) {
            console.log("✅ Found saved content in Firebase:", docSnap.data());
            savedContent = docSnap.data().content;
          } else {
            console.log("No content found in Firebase, checking localStorage...");
          }
        } catch (firebaseError) {
          console.error("❌ Firebase error:", firebaseError);
          console.log("Falling back to localStorage...");
        }
        
        // If no content from Firebase, try localStorage
        if (!savedContent) {
          try {
            const localData = localStorage.getItem(pageDocId);
            if (localData) {
              const parsedData = JSON.parse(localData);
              if (parsedData && parsedData.content) {
                console.log("✅ Found saved content in localStorage:", parsedData);
                savedContent = parsedData.content;
                contentSource = 'localStorage';
              }
            }
          } catch (localStorageError) {
            console.error("❌ Error reading from localStorage:", localStorageError);
          }
        }
        
        // If we have content from either source, apply it
        if (savedContent) {
          console.log(`Applying saved content from ${contentSource}`);
          
          // Count how many elements we'll update
          const elementsToUpdate = Object.keys(savedContent).length;
          console.log(`Found ${elementsToUpdate} saved elements to restore`);
          
          let updateCount = 0;
          
          // First, collect all editable elements for easy reference
          const allEditableElements = document.querySelectorAll('.editable');
          console.log(`Found ${allEditableElements.length} editable elements on page`);
          
          // A special function to handle footer copyright - one of the most common elements
          // This runs before the regular element processing
          updateCount += handleFooterCopyright(savedContent);
          
          // Apply saved content to matching elements
          Object.keys(savedContent).forEach(path => {
            // Skip footer copyright elements as they were handled specially
            if (path.includes('footer>p') && path.includes('©')) {
              console.log('Skipping footer copyright element - already handled');
              return;
            }
            
            try {
              console.log(`Processing saved element with path: ${path}`);
              
              // Format: parentTag.parentClasses>tag[position].classes:contentFingerprint
              
              // Extract the content fingerprint as it might help with identification
              const parts = path.split(':');
              const basePath = parts[0];
              const contentFingerprint = parts.length > 1 ? parts[1] : '';
              
              // Parse the element position if present
              let positionIndex = 0;
              let cleanBasePath = basePath;
              
              if (basePath.includes('[') && basePath.includes(']')) {
                const posMatch = basePath.match(/\[(\d+)\]/);
                if (posMatch && posMatch[1]) {
                  positionIndex = parseInt(posMatch[1]);
                  cleanBasePath = basePath.replace(/\[\d+\]/, '');
                }
              }
              
              // Split into parent and element parts
              const pathParts = cleanBasePath.split('>');
              if (pathParts.length < 2) {
                console.log(`Invalid path format, missing parent or element part: ${cleanBasePath}`);
                return; // Skip this element
              }
              
              const [parentInfo, elementInfo] = pathParts;
              
              // Extract parent tag and classes
              let parentTag = '', parentClasses = [];
              if (parentInfo.includes('.')) {
                const parentParts = parentInfo.split('.');
                parentTag = parentParts[0];
                parentClasses = parentParts.slice(1);
              } else {
                parentTag = parentInfo;
              }
              
              // Extract element tag and classes
              let tag = '', classes = [];
              if (elementInfo.includes('.')) {
                const elementParts = elementInfo.split('.');
                tag = elementParts[0];
                classes = elementParts.slice(1).filter(c => c !== 'edit-mode'); // Ensure edit-mode is filtered
              } else {
                tag = elementInfo;
              }
              
              // Ensure 'editable' is in the classes we're looking for
              if (!classes.includes('editable')) {
                classes.push('editable');
              }
              
              // Build selectors - first try specific selector
              const elementSelector = tag + (classes.length > 0 ? '.' + classes.join('.') : '');
              
              console.log(`Looking for elements matching: ${elementSelector} (position: ${positionIndex})`);
              
              // First find all matching elements with specific selector
              let elements = document.querySelectorAll(elementSelector);
              
              // If no elements found with specific selector, try a more general approach
              if (elements.length === 0) {
                console.log(`No elements found with specific selector, trying more general approach`);
                
                // Try just the tag.editable selector
                const simpleSelector = tag + '.editable';
                elements = document.querySelectorAll(simpleSelector);
                console.log(`Found ${elements.length} elements with simple selector ${simpleSelector}`);
                
                // Try to match by content fingerprint if available
                let matchFound = false;
                
                if (contentFingerprint) {
                  console.log(`Trying to match by fingerprint: "${contentFingerprint}"`);
                  elements.forEach(el => {
                    const elContent = el.textContent.trim().substring(0, 15).replace(/\s+/g, '-');
                    console.log(`Comparing fingerprints: "${elContent}" vs "${contentFingerprint}"`);
                    
                    // Try exact match first
                    if (elContent === contentFingerprint) {
                      console.log(`Found exact matching element with content fingerprint: ${contentFingerprint}`);
                      el.innerHTML = savedContent[path].content;
                      matchFound = true;
                      updateCount++;
                      return; // exit the forEach loop early
                    }
                    
                    // If no exact match, try partial match (element text contains fingerprint or fingerprint contains element text)
                    // This is especially useful for the copyright statement in the footer
                    if (!matchFound) {
                      const rawContent = el.textContent.trim();
                      const rawFingerprint = contentFingerprint.replace(/-/g, ' ');
                      if (rawContent.includes(rawFingerprint) || rawFingerprint.includes(rawContent)) {
                        console.log(`Found partial match with content fingerprint: "${contentFingerprint}" in "${rawContent.substring(0, 30)}..."`);
                        el.innerHTML = savedContent[path].content;
                        matchFound = true;
                        updateCount++;
                        return; // exit the forEach loop early
                      }
                    }
                  });
                }
              }
              
              if (elements.length > 0) {
                console.log(`Found ${elements.length} matching elements with selector`);
                
                // If we have position info, use it
                if (positionIndex > 0 && positionIndex <= elements.length) {
                  const specificElement = elements[positionIndex - 1];
                  
                  // Verify parent if possible
                  if (parentTag && specificElement.parentElement) {
                    const actualParent = specificElement.parentElement;
                    if (actualParent.tagName.toLowerCase() === parentTag.toLowerCase()) {
                      // Check parent classes if needed
                      let parentClassMatch = true;
                      if (parentClasses.length > 0) {
                        parentClassMatch = parentClasses.every(cls => 
                          actualParent.classList.contains(cls)
                        );
                      }
                      
                      console.log(`Parent tag match: ${actualParent.tagName.toLowerCase()} === ${parentTag.toLowerCase()}`);
                      console.log(`Parent class match: ${parentClassMatch}`);
                      
                      if (parentClassMatch) {
                        console.log(`Updating specific element at position ${positionIndex}`);
                        specificElement.innerHTML = savedContent[path].content;
                        updateCount++;
                      }
                    } else {
                      console.log(`Parent tag mismatch: ${actualParent.tagName.toLowerCase()} !== ${parentTag.toLowerCase()}`);
                    }
                  } else {
                    // Specific handling for footer elements
                    if (parentTag === 'footer' && specificElement.closest('footer')) {
                      console.log(`Found element within footer, updating`);
                      specificElement.innerHTML = savedContent[path].content;
                      updateCount++;
                    } else {
                      // No parent tag specified or element has no parent
                      console.log(`Updating specific element at position ${positionIndex} (no parent check)`);
                      specificElement.innerHTML = savedContent[path].content;
                      updateCount++;
                    }
                  }
                } else {
                  // Try to match by content fingerprint if available
                  let matchFound = false;
                  
                  if (contentFingerprint) {
                    console.log(`Trying to match by fingerprint: "${contentFingerprint}"`);
                    elements.forEach(el => {
                      const elContent = el.textContent.trim().substring(0, 15).replace(/\s+/g, '-');
                      console.log(`Comparing fingerprints: "${elContent}" vs "${contentFingerprint}"`);
                      
                      // Try exact match first
                      if (elContent === contentFingerprint) {
                        console.log(`Found exact matching element with content fingerprint: ${contentFingerprint}`);
                        el.innerHTML = savedContent[path].content;
                        matchFound = true;
                        updateCount++;
                        return; // exit the forEach loop early
                      }
                      
                      // If no exact match, try partial match (element text contains fingerprint or fingerprint contains element text)
                      // This is especially useful for the copyright statement in the footer
                      if (!matchFound) {
                        const rawContent = el.textContent.trim();
                        const rawFingerprint = contentFingerprint.replace(/-/g, ' ');
                        if (rawContent.includes(rawFingerprint) || rawFingerprint.includes(rawContent)) {
                          console.log(`Found partial match with content fingerprint: "${contentFingerprint}" in "${rawContent.substring(0, 30)}..."`);
                          el.innerHTML = savedContent[path].content;
                          matchFound = true;
                          updateCount++;
                          return; // exit the forEach loop early
                        }
                      }
                    });
                  }
                }
              } else {
                console.log(`No elements found matching selector, trying fallback approach`);
                
                // Fallback: Try matching by tag type and position among editable elements
                const tagEditables = Array.from(allEditableElements).filter(el => 
                  el.tagName.toLowerCase() === tag.toLowerCase()
                );
                
                if (tagEditables.length > 0) {
                  console.log(`Found ${tagEditables.length} ${tag} elements with .editable class`);
                  
                  // Use position index if available, otherwise use the first one
                  const targetIndex = (positionIndex > 0 && positionIndex <= tagEditables.length) 
                    ? positionIndex - 1 
                    : 0;
                  
                  console.log(`Updating ${tag} editable element at index ${targetIndex} as fallback`);
                  tagEditables[targetIndex].innerHTML = savedContent[path].content;
                  updateCount++;
                } else {
                  console.log(`No ${tag} elements with .editable class found`);
                }
              }
            } catch (error) {
              console.error(`Error processing path ${path}:`, error);
            }
          });
          
          console.log(`✅ Successfully restored ${updateCount} saved elements`);
          
          // Last resort fallback if no elements were updated
          if (updateCount === 0 && Object.keys(savedContent).length > 0) {
            console.log("⚠️ No elements updated through normal methods, trying last resort fallback");
            
            // Get all editable elements and footer paragraphs
            const editables = document.querySelectorAll('.editable');
            const footerP = document.querySelector('footer p');
            
            // Try to update elements based on saved content
            Object.values(savedContent).forEach(item => {
              const content = item.content;
              
              // Try to identify if this is footer content
              if (content.includes('©') && footerP) {
                console.log("Updating footer paragraph with copyright as fallback");
                footerP.innerHTML = content;
                updateCount++;
              } else if (editables.length > 0) {
                // For other content, try to match by element type and content similarity
                for (const el of editables) {
                  // Skip if we already updated footer content
                  if (el.closest('footer') && updateCount > 0) continue;
                  
                  // Check if element type matches
                  if (el.tagName.toLowerCase() === (item.elementType || 'p').toLowerCase()) {
                    console.log(`Updating ${el.tagName.toLowerCase()} element as last resort fallback`);
                    el.innerHTML = content;
                    updateCount++;
                    break;
                  }
                }
              }
            });
            
            console.log(`After fallback, restored ${updateCount} elements`);
          }
        } else {
          console.log("No saved content found in Firebase or localStorage");
        }
        
        // Show editable content regardless of whether updates happened
        // This ensures content is visible even if no saved version exists
        showContent();
      } catch (error) {
        console.error("Error loading saved content:", error);
        // Show content even if there was an error
        showContent();
      }
      
      // Helper function to show content and hide loader
      function showContent() {
        // Show all editable containers
        document.querySelectorAll('.editable-container').forEach(container => {
          container.classList.add('loaded');
        });
        
        // Hide the loading spinner
        const loader = document.getElementById('contentLoader');
        if (loader) {
          setTimeout(() => {
            loader.classList.add('hidden');
            // Remove from DOM after animation completes
            setTimeout(() => {
              loader.style.display = 'none';
            }, 500);
          }, 300);
        }
      }
    });
  </script>
</body>
</html> 